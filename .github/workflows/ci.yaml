name: CI Pipeline

on:
  push:
  pull_request:
  workflow_dispatch:
    inputs:
      image-tag:
        description: 'Tag to use for the Docker image'
        required: false
        default: 'v1.0.0'

jobs:
  tag:
    name: Build Application
    runs-on: ubuntu-latest
    steps:
      - name: Tag build
        id: build
        if: github.event_name == 'workflow_dispatch'
        run: |
          echo "Building application..."
          echo "tag=v1.0.0" >> $GITHUB_OUTPUT

      - name: Create package
        env:
          BUILD_TAG: ${{ steps.build.outputs.tag }}
        run: |
          if [ -z "${BUILD_TAG}" ]; then
            echo "No build tag found. Skipping package creation."
            exit 0
          fi
          
          echo "Creating package tag: ${BUILD_TAG}..."
